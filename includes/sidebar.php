<?php
$activeView = $_GET['view'] ?? 'sku';
$userEmail = $_SESSION['user']['email'] ?? null;
?>

<aside class="sidebar">
  <nav class="sidebar-nav">

    <div class="sidebar-title">
      <svg class="sidebar-logo" width="64" height="34" viewBox="0 0 64 34" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.8055 9.67529C11.6008 9.67529 13.1953 9.99626 14.5838 10.6421H14.5828C16.0035 11.2563 17.1678 12.1941 18.0721 13.4536L18.1512 13.5649L15.1659 16.5503L15.0535 16.4048C14.4352 15.601 13.6624 14.9834 12.7342 14.5503L12.7323 14.5493C11.8375 14.1174 10.8155 13.8989 9.66292 13.8989C8.44202 13.899 7.52689 14.1186 6.89827 14.5376L6.8973 14.5396C6.30925 14.9218 6.01946 15.4568 6.01937 16.1636C6.01937 16.8778 6.28341 17.4143 6.80843 17.7935C7.36043 18.1921 8.08752 18.5341 8.99495 18.8159H8.99593C9.94794 19.1015 10.9317 19.4029 11.9471 19.7202H11.9461C12.9716 20.0089 13.9492 20.4095 14.8787 20.9224C15.8192 21.4412 16.5826 22.1397 17.1678 23.0161C17.7949 23.9073 18.1024 25.0691 18.1024 26.4868C18.1024 28.655 17.3222 30.3826 15.7596 31.6528C14.2322 32.9202 12.1788 33.5463 9.61605 33.5464C8.33391 33.5464 7.11359 33.3853 5.95687 33.064L5.95198 33.063C4.82909 32.7101 3.78573 32.228 2.8221 31.6177L2.8182 31.6157C1.85409 30.9729 1.01751 30.2171 0.309406 29.3481L0.217609 29.2349L0.320148 29.1313L3.07894 26.3726L3.20589 26.2466L3.31917 26.3853C4.12882 27.3817 5.0597 28.1265 6.11214 28.6226H6.11312C7.16825 29.088 8.35062 29.3227 9.66292 29.3228C10.9778 29.3228 11.9733 29.1027 12.6668 28.6821C13.3535 28.2343 13.6882 27.634 13.6883 26.8677C13.6883 26.0884 13.4061 25.5044 12.8494 25.0942L12.8416 25.0884V25.0874C12.2913 24.629 11.5666 24.2578 10.6619 23.9771L10.6571 23.9751C9.7411 23.6593 8.76108 23.3593 7.71761 23.0747L7.71175 23.0728C6.68836 22.7529 5.71214 22.3536 4.78402 21.8735C3.84253 21.3865 3.06263 20.7194 2.44515 19.8745L2.44222 19.8716C1.84704 19.0119 1.55745 17.8816 1.55745 16.4966C1.55751 15.1058 1.89731 13.8998 2.58382 12.8862C3.26742 11.8453 4.21155 11.0492 5.40999 10.4985H5.41097C6.64158 9.948 8.10809 9.67534 9.8055 9.67529ZM60.4666 27.1304C61.3656 27.1304 62.1078 27.4356 62.6785 28.0493C63.2712 28.6419 63.5662 29.395 63.5662 30.2944C63.5662 31.1523 63.27 31.8903 62.6825 32.5015L62.6834 32.5024C62.1121 33.1194 61.3679 33.4253 60.4666 33.4253C59.5857 33.4252 58.844 33.1183 58.2528 32.5044C57.6639 31.8929 57.3681 31.1532 57.368 30.2944C57.368 29.395 57.6621 28.6419 58.2547 28.0493C58.8456 27.4369 59.5867 27.1304 60.4666 27.1304ZM27.2244 10.1509V33.0698H22.62V10.1509H27.2244ZM41.7869 9.24463C43.5378 9.15709 45.1193 9.21473 46.4998 9.44971H46.5018C48.1803 9.75243 49.6366 10.3155 50.7674 11.144L50.9891 11.313C51.8797 12.0255 52.5642 12.8886 53.0399 13.9292C53.5159 14.9707 53.7518 16.1853 53.7518 17.5112C53.7518 18.9503 53.182 20.4081 52.0614 21.8237C51.6393 22.3858 51.1118 22.9166 50.536 23.4429C52.1313 26.4343 52.5936 29.6475 52.9666 32.8901L52.9871 33.0698H48.741L48.7235 32.9282C48.5458 31.4811 48.3691 30.2401 48.0379 28.9097L47.8856 28.3325C47.6424 27.4407 47.348 26.6275 46.9813 25.8677C46.0259 26.3886 44.998 26.8295 43.9959 27.1636L43.9969 27.1646C42.3595 27.7201 40.7436 28.0444 39.3553 28.0444C38.6406 28.0444 37.97 27.9726 37.366 27.8286V33.0698H32.9764V10.7856L33.1043 10.7583L34.7606 10.4097C34.7934 10.3971 34.8219 10.3873 34.8416 10.3823C34.8724 10.3746 34.8845 10.3701 34.8953 10.3647L34.9129 10.356L34.9325 10.3521C36.0932 10.0909 38.8066 9.44898 41.784 9.24463H41.7869ZM42.203 21.4673C40.654 20.8938 39.0989 20.7314 38.1287 21.0054C37.9036 21.0901 37.7358 21.1738 37.6131 21.2964C37.4947 21.4148 37.4062 21.5823 37.366 21.8569V22.5776C37.4074 22.8778 37.4805 23.066 37.5506 23.1851C37.5853 23.2439 37.6201 23.2882 37.6522 23.3218L37.7371 23.396L37.743 23.3999L37.8592 23.48C38.1611 23.6583 38.6761 23.77 39.3553 23.77C40.7378 23.7699 42.4966 23.3016 44.2069 22.4829C43.6253 22.0926 42.938 21.7471 42.203 21.4683V21.4673ZM48.3455 14.644C47.1723 13.7533 45.0166 13.3158 42.0682 13.5181H42.0672C40.3092 13.6297 38.6031 13.9316 37.366 14.187V16.8101C37.9581 16.6667 38.5758 16.5942 39.2391 16.5942C39.4173 16.5943 39.5881 16.6017 39.7576 16.6128L40.2694 16.6528L40.2723 16.6538C41.389 16.7714 42.5655 17.0354 43.6844 17.4771H43.6834C45.3321 18.0744 46.8166 18.9747 47.952 19.9937C48.2499 19.7157 48.5026 19.4595 48.7303 19.1812C49.2459 18.5216 49.5067 17.9487 49.5067 17.5112C49.5067 16.6522 49.3625 15.4678 48.3465 14.644H48.3455ZM24.9217 0.161621C25.7537 0.161621 26.4464 0.44564 26.9862 1.01709C27.5258 1.55676 27.7948 2.23361 27.7948 3.03467C27.7947 3.86528 27.5277 4.57182 26.9901 5.14307L26.9862 5.146C26.4452 5.687 25.7524 5.95459 24.9217 5.95459C24.0911 5.95454 23.3982 5.68695 22.8573 5.146L22.8543 5.14307C22.3167 4.57182 22.0487 3.86528 22.0487 3.03467C22.0487 2.23361 22.3176 1.55676 22.8573 1.01709C23.397 0.445529 24.0897 0.161678 24.9217 0.161621Z" fill="currentColor" stroke="currentColor" stroke-width="0.322803"/>
      </svg>

      <h2 class="sidebar-subheading">CA Manufacturing CMS</h2>

      <?php if ($userEmail): ?>
        <p
          style="
            margin-top: 0.5rem;
            font-size: var(--font-small);
            color: var(--light-gray);
          "
        >
          Logged in as<br>
          <strong><?= htmlspecialchars($userEmail) ?></strong>
        </p>
      <?php endif; ?>
    </div>

    <hr>

    <ul class="sidebar-menu">
      <li class="sidebar-item">
            <a href="?view=sku" class="sidebar-link<?php if ($activeView === 'sku' || $activeView === 'create-sku') echo '-active'; ?>">
                <svg class="sidebar-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <mask id="mask0_9_207" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><rect width="24" height="24" fill="#D9D9D9"/></mask><g mask="url(#mask0_9_207)"><path d="M1.25 20.75V16.25H2.75V19.25H5.75V20.75H1.25ZM18.25 20.75V19.25H21.25V16.25H22.75V20.75H18.25ZM4 18V6H6V18H4ZM7 18V6H8V18H7ZM10 18V6H12V18H10ZM13 18V6H16V18H13ZM17 18V6H18V18H17ZM19 18V6H20V18H19ZM1.25 7.75V3.25H5.75V4.75H2.75V7.75H1.25ZM21.25 7.75V4.75H18.25V3.25H22.75V7.75H21.25Z"/></g>
                </svg>SKU
            </a>
        </li>
        <li class="sidebar-item">
            <a href="?view=inventory" class="sidebar-link<?php if ($activeView === 'inventory') echo '-active'; ?>">
            <svg class="sidebar-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <mask id="mask0_9_206" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><rect width="24" height="24" fill="#D9D9D9"/></mask><g mask="url(#mask0_9_206)"><path d="M4.50001 19.5V7.59999L2.64626 3.54224L4.00376 2.90399L6.14226 7.54999H17.8578L19.9963 2.90399L21.3538 3.54224L19.5 7.59999V19.5H4.50001ZM10 12.75H14C14.2125 12.75 14.3906 12.6781 14.5343 12.5342C14.6781 12.3904 14.75 12.2122 14.75 11.9997C14.75 11.7871 14.6781 11.609 14.5343 11.4655C14.3906 11.3218 14.2125 11.25 14 11.25H10C9.78751 11.25 9.60942 11.3219 9.46576 11.4657C9.32192 11.6096 9.25001 11.7877 9.25001 12.0002C9.25001 12.2129 9.32192 12.391 9.46576 12.5345C9.60942 12.6782 9.78751 12.75 10 12.75ZM6.00001 18H18V9.04999H6.00001V18Z"/></g>
            </svg>Inventory
            </a>
        </li>
        <li class="sidebar-item">
            <a href="?view=mpl" class="sidebar-link<?php if ($activeView === 'mpl'|| $activeView === 'create-mpl') echo '-active'; ?>">
                <svg class="sidebar-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <mask id="mask0_9_208" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><rect width="24" height="24" fill="#D9D9D9"/></mask><g mask="url(#mask0_9_208)"><path d="M13.9423 9.74624V8.43074C14.4859 8.17824 15.0548 7.98883 15.649 7.86249C16.2433 7.73616 16.8603 7.67299 17.5 7.67299C17.9013 7.67299 18.2911 7.70158 18.6693 7.75874C19.0474 7.81574 19.4269 7.89108 19.8078 7.98474V9.23849C19.4334 9.10766 19.0613 9.01274 18.6913 8.95374C18.3214 8.89474 17.9243 8.86524 17.5 8.86524C16.8603 8.86524 16.2408 8.94124 15.6413 9.09324C15.0419 9.24524 14.4756 9.46291 13.9423 9.74624ZM13.9423 15.227V13.8922C14.4731 13.6397 15.0404 13.4503 15.6443 13.324C16.2481 13.1978 16.8667 13.1347 17.5 13.1347C17.9013 13.1347 18.2911 13.1632 18.6693 13.2202C19.0474 13.2772 19.4269 13.3526 19.8078 13.4462V14.7C19.4334 14.5692 19.0613 14.4742 18.6913 14.4152C18.3214 14.3564 17.9243 14.327 17.5 14.327C16.8603 14.327 16.2408 14.4036 15.6413 14.5567C15.0419 14.7099 14.4756 14.9333 13.9423 15.227ZM13.9423 12.4962V11.1615C14.4859 10.909 15.0548 10.7196 15.649 10.5932C16.2433 10.4669 16.8603 10.4037 17.5 10.4037C17.9013 10.4037 18.2911 10.4323 18.6693 10.4895C19.0474 10.5465 19.4269 10.6218 19.8078 10.7155V11.9692C19.4334 11.8384 19.0613 11.7435 18.6913 11.6845C18.3214 11.6257 17.9243 11.5962 17.5 11.5962C16.8603 11.5962 16.2408 11.6754 15.6413 11.8337C15.0419 11.9921 14.4756 12.2129 13.9423 12.4962ZM6.5 16.0192C7.32817 16.0192 8.13392 16.1132 8.91725 16.301C9.70058 16.4888 10.4782 16.7834 11.25 17.1847V7.35374C10.5475 6.89608 9.78725 6.55283 8.96925 6.32399C8.15125 6.09516 7.32817 5.98074 6.5 5.98074C5.9 5.98074 5.33942 6.02783 4.81825 6.12199C4.29708 6.21633 3.7615 6.37049 3.2115 6.58449C3.13467 6.61016 3.08017 6.64708 3.048 6.69524C3.016 6.74324 3 6.79608 3 6.85374V16.3115C3 16.4013 3.03208 16.4671 3.09625 16.5087C3.16025 16.5504 3.23075 16.5552 3.30775 16.523C3.78208 16.3615 4.28267 16.2372 4.8095 16.15C5.3365 16.0628 5.9 16.0192 6.5 16.0192ZM12.75 17.1847C13.5218 16.7834 14.2994 16.4888 15.0828 16.301C15.8661 16.1132 16.6718 16.0192 17.5 16.0192C18.1 16.0192 18.6635 16.0628 19.1905 16.15C19.7173 16.2372 20.2179 16.3615 20.6923 16.523C20.7693 16.5552 20.8398 16.5504 20.9038 16.5087C20.9679 16.4671 21 16.4013 21 16.3115V6.85374C21 6.79608 20.984 6.74483 20.952 6.69999C20.9198 6.65516 20.8653 6.61666 20.7885 6.58449C20.2385 6.37049 19.7029 6.21633 19.1818 6.12199C18.6606 6.02783 18.1 5.98074 17.5 5.98074C16.6718 5.98074 15.8487 6.09516 15.0307 6.32399C14.2127 6.55283 13.4525 6.89608 12.75 7.35374V17.1847ZM12 19.3845C11.1937 18.7897 10.3238 18.3301 9.3905 18.0057C8.45717 17.6814 7.49367 17.5192 6.5 17.5192C5.88983 17.5192 5.2905 17.5868 4.702 17.722C4.1135 17.8573 3.54617 18.0564 3 18.3192C2.64367 18.4832 2.30458 18.4572 1.98275 18.2412C1.66092 18.0252 1.5 17.7192 1.5 17.323V6.46549C1.5 6.24999 1.5555 6.04774 1.6665 5.85874C1.77733 5.66958 1.93725 5.53333 2.14625 5.44999C2.82308 5.12049 3.5285 4.87658 4.2625 4.71824C4.9965 4.55991 5.74233 4.48074 6.5 4.48074C7.473 4.48074 8.42367 4.61374 9.352 4.87974C10.2802 5.14591 11.1628 5.53858 12 6.05774C12.8372 5.53858 13.7198 5.14591 14.648 4.87974C15.5763 4.61374 16.527 4.48074 17.5 4.48074C18.2577 4.48074 19.0035 4.55991 19.7375 4.71824C20.4715 4.87658 21.1769 5.12049 21.8538 5.44999C22.0627 5.53333 22.2227 5.66958 22.3335 5.85874C22.4445 6.04774 22.5 6.24999 22.5 6.46549V17.323C22.5 17.7192 22.3327 18.0221 21.998 18.2317C21.6633 18.4412 21.3114 18.464 20.9423 18.3C20.4026 18.0435 19.8433 17.8492 19.2645 17.7172C18.6857 17.5852 18.0975 17.5192 17.5 17.5192C16.5063 17.5192 15.5428 17.6814 14.6095 18.0057C13.6762 18.3301 12.8063 18.7897 12 19.3845Z"/></g>
                </svg>Material Packing List
            </a>
        </li>
        <li class="sidebar-item">
            <a href="?view=orders" class="sidebar-link<?php if ($activeView === 'orders' || $activeView === 'create-order') echo '-active'; ?>">
                <svg class="sidebar-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <mask id="mask0_9_243" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="-1" y="0" width="25" height="25"><rect x="-0.201782" y="0.446548" width="24" height="24" fill="#D9D9D9"/></mask><g mask="url(#mask0_9_243)"><path d="M3.29822 22.9946V1.90805H4.79822V3.9563H18.7982V1.90805H20.2982V22.9946H18.7982V20.9466H4.79822V22.9946H3.29822ZM4.79822 11.4466H7.10597V7.56205H12.4905V11.4466H18.7982V5.45605H4.79822V11.4466ZM4.79822 19.4466H11.106V15.5621H16.4905V19.4466H18.7982V12.9466H4.79822V19.4466ZM8.60597 11.4466H10.9905V9.0618H8.60597V11.4466ZM12.606 19.4466H14.9905V17.0618H12.606V19.4466Z"/></g>
                </svg>Orders
            </a>
        </li>
    </ul>

    <hr>

    <ul class="sidebar-menu">
      <li class="sidebar-item">
        <a href="/logout.php" class="sidebar-link">
          <svg class="sidebar-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <mask id="mask0_9_305" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><rect width="24" height="24" fill="#D9D9D9"/></mask><g mask="url(#mask0_9_305)"><path d="M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H12.0095V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H12.0095V20.5H5.30775ZM16.2308 16.2692L15.1923 15.1845L17.627 12.75H9.09625V11.25H17.627L15.1923 8.8155L16.2308 7.73075L20.5 12L16.2308 16.2692Z"/></g>
            </svg>
          Log out
        </a>
      </li>
    </ul>

  </nav>
</aside>